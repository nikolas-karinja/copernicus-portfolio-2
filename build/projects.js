async function getDataFromJSON(url){const Response=await fetch(url);return await Response.json()}function createIndexButton(imageURL,label,events=[]){const Element=document.createElement("button");Element.title=label;const ImgElement=document.createElement("img");ImgElement.src=imageURL;const LabelElement=document.createElement("div");LabelElement.innerHTML=label,Element.appendChild(ImgElement),Element.appendChild(LabelElement);for(let i of events)Element.addEventListener(i.event,i.method);document.body.querySelector("index").appendChild(Element)}function createProjectElement(codeElements,projectData){const Element=document.createElement("project");Element.title=projectData.name;const NameElement=document.createElement("h1");NameElement.innerHTML=projectData.name;const IconElement=document.createElement("img");IconElement.src=projectData.icon;const InfoElement=document.createElement("p");InfoElement.innerHTML=projectData.info;const ElementsElement=document.createElement("div");for(let e of projectData.elements){const ImgElement=document.createElement("img");ImgElement.src=codeElements[e].icon,ImgElement.title=codeElements[e].name,ElementsElement.appendChild(ImgElement)}const GithubElement=document.createElement("img");GithubElement.setAttribute("github",""),GithubElement.src="../../assets/img/icons/github-logo.png",GithubElement.title="Go to GitHub repository",projectData.github?(GithubElement.githubURL=projectData.github,GithubElement.addEventListener("pointerup",(e=>window.open(e.target.githubURL)))):(GithubElement.style.setProperty("opacity","0.25"),GithubElement.title="Repository is either private or not available");const ProgressElement=document.createElement("img");if(ProgressElement.setAttribute("progress",""),projectData.finished?(ProgressElement.src="../../assets/img/icons/green-checkmark.png",ProgressElement.title="Finished"):(ProgressElement.src="../../assets/img/icons/wip.png",ProgressElement.title="Work in progress"),projectData.npm){const NPMElement=document.createElement("img");NPMElement.setAttribute("npm",""),NPMElement.src="../../assets/img/icons/npm-logo.png",NPMElement.title="Go to NPM page",NPMElement.npmURL=projectData.npm,NPMElement.addEventListener("pointerup",(e=>window.open(e.target.npmURL))),Element.appendChild(NPMElement)}Element.appendChild(IconElement),Element.appendChild(NameElement),Element.appendChild(InfoElement),Element.appendChild(ElementsElement),Element.appendChild(GithubElement),Element.appendChild(ProgressElement),document.body.querySelector("content").appendChild(Element)}async function setProjectLanguage(name){for(let l of Data.languages)if(l.name==name){if(document.body.querySelector("content").innerHTML="",document.body.querySelector("heading h1").style.setProperty("display","none"),document.body.querySelector("heading h1").innerHTML=l.name,setTimeout((()=>document.body.querySelector("heading h1").style.setProperty("display","block")),100),l.projects.length>0){document.body.querySelector("content").style.setProperty("line-height","inherit"),document.body.querySelector("content").style.setProperty("text-align","left");for(let p of l.projects)createProjectElement(CodeElements,p)}else document.body.querySelector("content").style.setProperty("line-height","calc( 100vh - 112px )"),document.body.querySelector("content").style.setProperty("text-align","center"),document.body.querySelector("content").innerHTML="No projects at the moment.";break}}parent.document.body.querySelector("iframe#content"),parent.document.body.querySelector("nav-bar"),parent.document.head.querySelector("title"),document.body.querySelector("page-desc"),document.body.querySelector("page-desc btn-holder button#exit"),document.body.querySelector("page-desc btn-holder button#go"),document.body.querySelector("page-desc page-icon"),document.body.querySelector("page-desc page-info"),document.body.querySelector("page-desc page-title");const CodeElements=await getDataFromJSON("../../src/db/code-elements.json"),Data=await getDataFromJSON("../../src/db/projects.json");await async function(){for(let l of Data.languages)createIndexButton(l.icon,l.name,[{event:"pointerup",method:e=>setProjectLanguage(e.target.title)}])}(),await setProjectLanguage(Data.languages[0].name);
