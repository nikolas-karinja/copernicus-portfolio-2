import*as e from"three";import*as t from"uuid";function n(e,t,n){return void 0!==e[t]?e[t]:n}var r=Object.freeze({__proto__:null,checkIsAsync:function(e){return"AsyncFunction"===e.constructor.name},checkParam:n});const a={Basic:{bodyCSSFix:!0,preventDefaultContextMenu:!1},Three:{Basic:{animUpdateInterval:60,bodyCSSFix:!0,preventDefaultContextMenu:!1,useAnimUpdateLoop:!1},Example:{animUpdateInterval:60,bodyCSSFix:!0,cameraFar:1e3,cameraFOV:60,cameraLookAt:new e.Vector3,cameraNear:.01,cameraPosition:new e.Vector3(0,1,0),preventDefaultContextMenu:!1,rendererSettings:{},useAnimUpdateLoop:!1}}};class i{constructor(e=a.Basic){this.Settings={bodyCSSFix:n(e,"bodyCSSFix",a.Basic.bodyCSSFix)}}async#e(){this.Settings.bodyCSSFix&&(document.body.style.margin="0px")}async#t(){window.addEventListener("contextmenu",(e=>{e.preventDefault()}))}async onStart(){}onUpdate(){}async start(){this.#e(),this.#t(),window.addEventListener("DOMContentLoaded",(async()=>{await this.onStart(),this.update()}))}update(){requestAnimationFrame((()=>{this.onUpdate(),this.update()}))}}i.prototype.$Props={isBasicApp:!0};class o extends i{constructor(t=a.Three.Basic){super(),this.updateAnim=!1,this.Clock=new e.Clock,this.Settings={animUpdateInterval:n(t,"animUpdateInterval",a.Three.Basic.animUpdateInterval),bodyCSSFix:n(t,"bodyCSSFix",a.Three.Basic.bodyCSSFix),useAnimUpdateLoop:n(t,"useAnimUpdateLoop",a.Three.Basic.useAnimUpdateLoop)},this.Time={delta:0,elapsed:0,frame:0,last:0}}onRender(e,t,n){}onUpdate(e,t,n){}update(){requestAnimationFrame((e=>{this.Time.frame=e,this.Time.delta=this.Clock.getDelta(),this.Time.elapsed=this.Clock.getElapsedTime(),(!this.Time.last||e-this.Time.last>=1e3/(this.Settings.animUpdateInterval+1))&&(this.Time.last=e,this.updateAnim=!0),this.onUpdate(this.Time.delta,this.Time.elapsed,this.updateAnim),this.onRender(this.Time.delta,this.Time.elapsed,this.updateAnim),this.updateAnim&&(this.updateAnim=!1),this.update()}))}}o.prototype.$Props.isBasicThreeApp=!0;class s extends o{constructor(t=a.Three.Example){super(),this.Settings={animUpdateInterval:n(t,"animUpdateInterval",a.Three.Example.animUpdateInterval),bodyCSSFix:n(t,"bodyCSSFix",a.Three.Example.bodyCSSFix),cameraFar:n(t,"cameraFar",a.Three.Example.cameraFar),cameraFOV:n(t,"cameraFOV",a.Three.Example.cameraFOV),cameraLookAt:n(t,"cameraLookAt",a.Three.Example.cameraLookAt),cameraNear:n(t,"cameraNear",a.Three.Example.cameraNear),cameraPosition:n(t,"cameraPosition",a.Three.Example.cameraPosition),rendererSettings:n(t,"rendererSettings",a.Three.Example.rendererSettings),useAnimUpdateLoop:n(t,"useAnimUpdateLoop",a.Three.Example.useAnimUpdateLoop)},this.Scene=new e.Scene,this.Scene.background=new e.Color(2171169),this.Camera=new e.PerspectiveCamera(this.Settings.cameraFOV,window.innerWidth/window.innerHeight,this.Settings.cameraNear,this.Settings.cameraFar),this.Camera.position.copy(this.Settings.cameraPosition),this.Camera.lookAt(this.Settings.cameraLookAt),this.Renderer=new e.WebGLRenderer(this.Settings.rendererSettings),this.Renderer.setPixelRatio(window.devicePixelRatio),this.Renderer.setSize(window.innerWidth,window.innerHeight),document.body.appendChild(this.Renderer.domElement),window.addEventListener("resize",(()=>this.resize()))}resize(){this.Camera.aspect=window.innerWidth/window.innerHeight,this.Camera.updateProjectionMatrix(),this.Renderer.setSize(window.innerWidth,window.innerHeight)}onRender(){this.Renderer.render(this.Scene,this.Camera)}}s.prototype.$Props.isExampleThreeApp=!0;var u=Object.freeze({__proto__:null,SETTINGS:a,BasicApp:i,BasicThreeApp:o,ExampleThreeApp:s,startApp:function(e=i,...t){e.prototype.$Props.isBasicApp?(window.App=new e(...t),window.App.start()):console.error("<@nikolas.karinja/app-utils> Apps: <appClass> is not an equivalent or sub-class of <BasicApp>.")}});function c(e){return e[Math.floor(Math.random()*e.length)]}function d(e,t=0,n=1){e.splice(t,n)}var p=Object.freeze({__proto__:null,getRandomValue:c,getRandomValueRanged:function(e,t=0,n="max-index"){return n="max-index"==n?e.length:n,0==t&&n==e.length?c(e):e[Math.floor(Math.random()*(n-t)+t)]},getSortedHL:function(e){return e.sort(((e,t)=>t-e))},getSortedLH:function(e){return e.sort(((e,t)=>e-t))},getValue:function(e,t=0){return e[t]},removeIndex:d,removeValue:function(e,t,n=1){d(e,e.indexOf(t),n)}});function h(){return t.v4()}function m(){return h()}function l(e){return g(e)?t.version(e):void console.error("<@nikolas.karinja/app-utils> UUID: String is not a valid UUID.")}function g(e){return e?t.validate(e):(console.error("<@nikolas.karinja/app-utils> UUID: No string was passed to validate."),!1)}var y=Object.freeze({__proto__:null,genV1:function(){return t.v1()},genV3:function(){return t.v3()},genV4:h,genV5:function(){return t.v5()},generate:m,getVersion:l,validate:g,validateV1:function(e){return 1===l(e)},validateV3:function(e){return 3===l(e)},validateV4:function(e){return 4===l(e)},validateV5:function(e){return 5===l(e)}});class S{constructor(){this.array=new(void 0),this.nameToIndex=new(void 0),this.uuid=m(),this.uuidToIndex=new(void 0)}#n(e,t){return!!("uuid"==e?this.uuidToIndex:this.nameToIndex).includes(t)}#r(e,t){const n=this[("uuid"==e?"uuid":"name")+"ToIndex"].indexOf(t);return this.array[n]}#a(e,t){for(let n of t){const t=this[("uuid"==e?"uuid":"name")+"ToIndex"].indexOf(n);this.array.removeIndex(t),this.nameToIndex.removeIndex(t),this.uuidToIndex.removeIndex(t)}}add(){for(let e of arguments)"object"==typeof e&&(e.uuid=e.uuid?e.uuid:m(),e.name=e.name?e.name:`item#${this.array.length}`,this.array.push(e),this.uuidToIndex.push(e.uuid),this.nameToIndex.push(e.name))}check(e){return{byUUID:()=>this.#n("uuid",e),byName:()=>this.#n("name",e)}}get(e){return{byUUID:()=>this.#r("uuid",e),byName:()=>this.#r("name",e)}}remove(){return{byUUID:()=>this.#a("uuid",arguments),byName:()=>this.#a("name",arguments)}}}var f=Object.freeze({__proto__:null,StorageTable:S,createStorageTable:function(){return new S}});function x(e=new Date){return{ampm:v(e),dayOfMonth:w(e),dayOfWeek:T(e),dayOfWeekAbr:A(e),hour24:b(e),hour12:D(e),minutes:C(e),month:U(e),monthAbr:F(e),monthNumber:I(e),year:M(e)}}function v(e=new Date){return e.getHours()<12?"AM":"PM"}function w(e=new Date){return e.getDate()}function T(e=new Date){switch(e.getDay()){case 0:return"Sunday";case 1:return"Monday";case 2:return"Tuesday";case 3:return"Wednesday";case 4:return"Thursday";case 5:return"Friday";case 6:return"Saturday"}}function A(e=new Date){switch(e.getDay()){case 0:return"Sun";case 1:return"Mon";case 2:return"Tue";case 3:return"Wed";case 4:return"Thu";case 5:return"Fri";case 6:return"Sat"}}function b(e=new Date){return e.getHours()}function D(e=new Date){return e.getHours()%12||12}function C(e=new Date){return e.getMinutes()}function U(e=new Date){switch(e.getMonth()){case 0:return"January";case 1:return"February";case 2:return"March";case 3:return"April";case 4:return"May";case 5:return"June";case 6:return"July";case 7:return"August";case 8:return"September";case 9:return"October";case 10:return"November";case 11:return"December"}}function F(e=new Date){switch(e.getMonth()){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec"}}function I(e=new Date){return e.getMonth()+1}function M(e=new Date){return e.getFullYear()}var k=Object.freeze({__proto__:null,convertToDouble:function(e=1){const t=e.toString();return t.length<2?`0${t}`:t},generateData:x,generateDataString:function(e=new Date){return JSON.stringify(x(e))},getAMPM:v,getDayOfMonth:w,getDayOfWeek:T,getDayOfWeekAbreviation:A,getHour24:b,getHour12:D,getMinutes:C,getMonth:U,getMonthAbreviation:F,getMonthNumber:I,getYear:M});export{u as Apps,p as Array,r as Script,f as Storage,k as Time,y as UUID};
